{% load custom_filters %}
{% load staticfiles %}
<html>
<head>
<script type="text/javascript" src="{% static "qr/qrcode.js" %}"></script>
<script type="text/javascript" src="{% static "qr/jquery.min.js" %}"></script>
<script type="text/javascript" src="{% static "qr/qrcode.min.js" %}"></script>
</head> 
<body>
<input id="text" type="hidden" value="store.html?store_id={{store_id}}"/>
<div id="qrcode"></div>
<script>
// Function to generate QR code
var qrcode = new QRCode("qrcode");
function makeCode () {      
  var elText = document.getElementById("text");
    
  if (!elText.value) {
    alert("Input a text");
    elText.focus();
    return;
  }
  qrcode.makeCode(elText.value);
}

makeCode();

$("#text").
  on("blur", function () {
    makeCode();
  }).
  on("keydown", function (e) {
    if (e.keyCode == 13) {
      makeCode();
    }
});
</script>
</body>
</html>